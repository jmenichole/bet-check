(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{6005:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mines",function(){return s(2833)}])},9606:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(5893);function a(e){let{children:t,variant:s="primary",size:a="md",glow:r=!0,className:i="",...l}=e;return(0,n.jsx)("button",{className:"\n        ".concat("font-semibold rounded-lg transition-all duration-300 ease-in-out","\n        ").concat({primary:"bg-neon-pink hover:bg-neon-pink-light text-dark-bg border border-neon-pink hover:border-neon-pink-light",secondary:"bg-dark-card text-neon-pink border border-neon-pink hover:bg-neon-pink hover:text-dark-bg",outline:"bg-transparent text-neon-pink border border-neon-pink hover:bg-neon-pink hover:bg-opacity-10"}[s],"\n        ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a],"\n        ").concat(r?"hover:shadow-glow-pink":"","\n        disabled:opacity-50 disabled:cursor-not-allowed\n        ").concat(i,"\n      "),...l,children:t})}},8373:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(5893);function a(e){let{children:t,className:s="",glowing:a=!1,onClick:r}=e;return(0,n.jsx)("div",{onClick:r,className:"\n        bg-dark-card border border-dark-border rounded-lg p-6\n        transition-all duration-300 ease-in-out\n        ".concat(a?"shadow-neon-pink-lg":"shadow-neon-pink","\n        ").concat(r?"cursor-pointer hover:shadow-neon-pink-lg hover:border-neon-pink":"","\n        ").concat(s,"\n      "),children:t})}},6875:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(5893),a=s(1664),r=s.n(a);function i(e){let{title:t="BetCheck",subtitle:s,showNav:a=!0}=e;return(0,n.jsx)("header",{className:"sticky top-0 z-50 bg-dark-bg/95 backdrop-blur border-b border-gray-800 shadow-lg",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(r(),{href:"/",children:(0,n.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white hover:text-neon-pink transition-colors duration-300",children:t})}),s&&(0,n.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:s})]}),a&&(0,n.jsxs)("nav",{className:"flex gap-4 items-center",children:[(0,n.jsx)(r(),{href:"/",children:(0,n.jsx)("span",{className:"px-4 py-2 rounded-lg text-white hover:text-neon-pink hover:bg-gray-800/50 transition-all duration-300",children:"Games"})}),(0,n.jsx)(r(),{href:"/guru",children:(0,n.jsx)("span",{className:"px-4 py-2 rounded-lg text-white hover:text-neon-pink hover:bg-gray-800/50 transition-all duration-300",children:"AI Guru"})}),(0,n.jsx)(r(),{href:"/mines",children:(0,n.jsx)("span",{className:"px-4 py-2 rounded-lg text-white hover:text-neon-pink hover:bg-gray-800/50 transition-all duration-300",children:"Mines"})}),(0,n.jsx)(r(),{href:"/dashboard",children:(0,n.jsx)("span",{className:"px-4 py-2 rounded-lg text-white hover:text-neon-pink hover:bg-gray-800/50 transition-all duration-300",children:"Dashboard"})})]})]})})})}},2833:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var n=s(5893),a=s(7066),r=s(7294),i=s(6875),l=s(8373),o=s(9606);let d="http://localhost:8000",c={5:{defaultBombs:3,min:1,max:10},6:{defaultBombs:5,min:2,max:14},8:{defaultBombs:8,min:4,max:26},10:{defaultBombs:15,min:6,max:40}};function x(){var e,t,s,x,m,b,h,u,g,p;let[v,f]=(0,r.useState)(""),[j,y]=(0,r.useState)(5),[N,k]=(0,r.useState)(c[5].defaultBombs),[_,w]=(0,r.useState)([]),[S,C]=(0,r.useState)([]),[Z,B]=(0,r.useState)({safe_clicks:0,bombs_hit:0,total_clicks:0,bombs_remaining:c[5].defaultBombs,remaining_safe:25-c[5].defaultBombs}),[E,A]=(0,r.useState)("idle"),[D,G]=(0,r.useState)(!1),[M,T]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=c[j],t=e?e.defaultBombs:Math.max(1,Math.floor(j*j*.2));k(t),B(e=>({...e,bombs_remaining:t,remaining_safe:j*j-t}))},[j]);let P=async()=>{try{var e;G(!0),T(""),console.log("Starting game with API_URL:",d);let t=await a.Z.post("".concat(d,"/mines/game/create"),null,{params:{grid_size:j,num_bombs:N}}),s=t.data.game_id,n=null!==(e=t.data.num_bombs)&&void 0!==e?e:N;f(s),k(n),A("active");let r=[];for(let e=0;e<j;e++){let t=[];for(let s=0;s<j;s++)t.push({x:s,y:e,revealed:!1,is_bomb:!1});r.push(t)}w(r),await I(s),B({safe_clicks:0,bombs_hit:0,total_clicks:0,bombs_remaining:n,remaining_safe:j*j-n})}catch(e){console.error("Error starting game:",e),T("Unable to start a new game. Please ensure the backend is running and try again.")}finally{G(!1)}},I=async e=>{try{let t=await a.Z.post("".concat(d,"/mines/predict/").concat(e));C(t.data.tiles)}catch(e){console.error("Error fetching predictions:",e)}},R=async(e,t)=>{if(v&&!_[t][e].revealed)try{var s,n,r,i,l,o,c;G(!0),T("");let x=Math.random()>.3,m=await a.Z.post("".concat(d,"/mines/click/").concat(v),null,{params:{x:e,y:t,is_safe:x}}),b=_.map(e=>[...e]);b[t][e].revealed=!0,b[t][e].is_bomb=!x,w(b);let h=m.data.stats||{};B({safe_clicks:null!==(s=h.safe_clicks)&&void 0!==s?s:Z.safe_clicks,bombs_hit:null!==(n=h.bombs_hit)&&void 0!==n?n:Z.bombs_hit,total_clicks:null!==(r=h.total_clicks)&&void 0!==r?r:Z.total_clicks,bombs_remaining:null!==(l=h.bombs_remaining)&&void 0!==l?l:Math.max(N-(null!==(i=h.bombs_hit)&&void 0!==i?i:0),0),remaining_safe:null!==(c=h.remaining_safe)&&void 0!==c?c:Math.max(j*j-N-(null!==(o=h.safe_clicks)&&void 0!==o?o:0),0)}),x||A("busted"),await I(v)}catch(e){console.error("Error clicking tile:",e)}finally{G(!1)}},z=(e,t)=>e.revealed?e.is_bomb?"bg-red-600 border-red-400":"bg-green-600 border-green-400":t&&t.safe_probability>.7?"bg-green-500/20 border-green-500/50 hover:bg-green-500/30":t&&t.safe_probability<.4?"bg-red-500/20 border-red-500/50 hover:bg-red-500/30":"bg-gray-700/20 border-gray-500/50 hover:bg-gray-600/30",F=e=>e.revealed?e.is_bomb?"\uD83D\uDCA3":"✓":"?";return(0,n.jsxs)("div",{className:"min-h-screen bg-dark-bg flex flex-col",children:[(0,n.jsx)(i.Z,{title:"Mines",subtitle:"AI-Powered Tile Prediction Game"}),(0,n.jsxs)("main",{className:"flex-1 max-w-6xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-12",children:[M&&(0,n.jsx)(l.Z,{className:"mb-6 border border-red-500/50 bg-red-500/10",children:(0,n.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-red-400 font-bold mb-1",children:"Something went wrong"}),(0,n.jsx)("p",{className:"text-red-200 text-sm",children:M})]}),(0,n.jsx)(o.Z,{variant:"primary",size:"sm",onClick:P,children:"Retry"})]})}),!v&&(0,n.jsxs)(l.Z,{className:"mb-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:"Start a New Game"}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-text-secondary mb-2",children:"Grid Size"}),(0,n.jsxs)("select",{value:j,onChange:e=>y(Number(e.target.value)),className:"px-4 py-2 bg-dark-bg border border-neon-pink/30 rounded text-text-primary",children:[(0,n.jsx)("option",{value:5,children:"5x5 (3 bombs)"}),(0,n.jsx)("option",{value:6,children:"6x6 (5 bombs)"}),(0,n.jsx)("option",{value:8,children:"8x8 (8 bombs)"}),(0,n.jsx)("option",{value:10,children:"10x10 (15 bombs)"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-semibold text-text-secondary mb-2",children:"Bombs"}),(0,n.jsx)("input",{type:"number",min:null!==(b=null===(e=c[j])||void 0===e?void 0:e.min)&&void 0!==b?b:1,max:null!==(h=null===(t=c[j])||void 0===t?void 0:t.max)&&void 0!==h?h:j*j-1,value:N,onChange:e=>{var t,s,n,a;let r=Number(e.target.value);k(Math.min(Math.max(r,null!==(n=null===(t=c[j])||void 0===t?void 0:t.min)&&void 0!==n?n:1),null!==(a=null===(s=c[j])||void 0===s?void 0:s.max)&&void 0!==a?a:j*j-1))},className:"px-4 py-2 w-32 bg-dark-bg border border-neon-pink/30 rounded text-text-primary"}),(0,n.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:["Allowed: ",null!==(u=null===(s=c[j])||void 0===s?void 0:s.min)&&void 0!==u?u:1," – ",null!==(g=null===(x=c[j])||void 0===x?void 0:x.max)&&void 0!==g?g:j*j-1," | Default: ",null!==(p=null===(m=c[j])||void 0===m?void 0:m.defaultBombs)&&void 0!==p?p:Math.max(1,Math.floor(j*j*.2))]})]}),(0,n.jsx)(o.Z,{variant:"primary",onClick:P,disabled:D,children:D?"Starting...":"Start Game"})]})]}),v&&(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)(l.Z,{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-text-secondary text-sm mb-1",children:"Safe Clicks"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-green-400",children:Z.safe_clicks})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-text-secondary text-sm mb-1",children:"Bombs Hit"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-red-400",children:Z.bombs_hit})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-text-secondary text-sm mb-1",children:"Bombs Remaining"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-white",children:Z.bombs_remaining})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-text-secondary text-sm mb-1",children:"Status"}),(0,n.jsx)("p",{className:"text-2xl font-bold ".concat("busted"===E?"text-red-400":"text-green-400"),children:"busted"===E?"BUSTED":"ACTIVE"})]})]}),(0,n.jsxs)(l.Z,{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-text-primary",children:"Game Grid"}),(0,n.jsx)("div",{className:"text-sm text-text-secondary",children:"\uD83D\uDCA1 Tip: Green = Safer, Red = Riskier"})]}),(0,n.jsx)("div",{className:"inline-grid gap-2 p-4 bg-dark-bg/50 rounded-lg",style:{gridTemplateColumns:"repeat(".concat(j,", minmax(0, 1fr))")},children:_.map((e,t)=>e.map((e,s)=>{let a=S.find(e=>e.x===s&&e.y===t),r=a&&S.slice(0,3).some(e=>e.x===s&&e.y===t);return(0,n.jsxs)("button",{onClick:()=>R(s,t),disabled:e.revealed||"busted"===E,className:"\n                          w-12 h-12 rounded border transition-all font-bold text-lg relative\n                          disabled:cursor-not-allowed\n                          ".concat(z(e,a||null),"\n                          ").concat(e.revealed||"busted"===E?"":"cursor-pointer hover:scale-105","\n                          ").concat(r&&!e.revealed?"ring-2 ring-green-400 ring-offset-2 ring-offset-dark-bg animate-pulse":"","\n                        "),title:a?"Safe: ".concat((100*a.safe_probability).toFixed(0),"%"):"",children:[F(e),r&&!e.revealed&&(0,n.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full text-white text-xs flex items-center justify-center",children:"✓"})]},"".concat(s,"-").concat(t))}))})]}),(0,n.jsxs)(l.Z,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,n.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD16"}),(0,n.jsx)("h2",{className:"text-xl font-bold text-text-primary",children:"AI Says: Click These Next"})]}),(0,n.jsx)("p",{className:"text-text-secondary text-sm mb-4",children:"Top 3 safest tiles based on probability analysis"}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:S.slice(0,3).map((e,t)=>(0,n.jsxs)("button",{onClick:()=>R(e.x,e.y),disabled:"busted"===E,className:"relative p-6 rounded-lg border-2 border-green-500/50 bg-gradient-to-br from-green-500/10 to-green-500/5 hover:border-green-400 hover:shadow-lg hover:shadow-green-500/30 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",children:[(0,n.jsxs)("div",{className:"absolute top-2 left-2 w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold text-sm",children:["#",t+1]}),(0,n.jsxs)("div",{className:"text-center mb-3 mt-4",children:[(0,n.jsxs)("div",{className:"text-5xl font-bold text-green-400 group-hover:scale-110 transition-transform",children:["(",e.x,", ",e.y,")"]}),(0,n.jsxs)("div",{className:"text-xs text-text-secondary mt-1",children:["Row ",e.y,", Col ",e.x]})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[(100*e.safe_probability).toFixed(0),"%"]}),(0,n.jsx)("div",{className:"text-xs text-green-400 font-semibold uppercase tracking-wide",children:"SAFE"===e.recommendation?"✓ Safe Bet":"Consider"})]}),(0,n.jsx)("div",{className:"mt-4 h-2 bg-dark-bg rounded-full overflow-hidden",children:(0,n.jsx)("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-300 transition-all duration-500",style:{width:"".concat(100*e.safe_probability,"%")}})}),(0,n.jsx)("div",{className:"mt-3 text-center text-xs text-text-secondary opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to reveal this tile"})]},t))}),0===S.length&&(0,n.jsx)("div",{className:"text-center py-8 text-text-secondary",children:"Start clicking tiles to get AI recommendations!"})]}),"busted"===E&&(0,n.jsxs)(l.Z,{className:"border border-red-500/50 bg-red-500/10",children:[(0,n.jsx)("h3",{className:"text-xl font-bold text-red-400 mb-4",children:"Game Over!"}),(0,n.jsxs)("p",{className:"text-text-secondary mb-4",children:["You hit a bomb! Final score: ",Z.safe_clicks," safe clicks"]}),(0,n.jsx)(o.Z,{variant:"primary",onClick:P,children:"Play Again"})]}),(0,n.jsx)(o.Z,{variant:"secondary",onClick:P,children:"New Game"})]})]}),(0,n.jsx)("footer",{className:"border-t border-dark-border mt-12",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center",children:(0,n.jsx)("p",{className:"text-text-secondary text-sm",children:"Mines Game with AI Predictions \xa9 2025"})})})]})}}},function(e){e.O(0,[959,888,774,179],function(){return e(e.s=6005)}),_N_E=e.O()}]);